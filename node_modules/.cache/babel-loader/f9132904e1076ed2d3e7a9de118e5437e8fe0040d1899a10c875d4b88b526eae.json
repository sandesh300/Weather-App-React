{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Documents\\\\React Projects\\\\weather_app\\\\src\\\\Components\\\\ChooseState\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport cities from '../../Data/in.json';\nimport axios from \"axios\";\nimport { UseWeatherAppContext } from '../../Context/Context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChooseStateComponents = () => {\n  _s();\n  const {\n    state: {\n      city\n    },\n    dispatch\n  } = UseWeatherAppContext();\n  const handleChange = e => {\n    const selectedCity = cities.filter(city => city.city === e.target.value)[0];\n    //console.log('selectedCity', selectedCity);\n    dispatch({\n      type: 'SET_CITY',\n      payload: {\n        ...selectedCity\n      }\n    });\n  };\n\n  // API VAR\n  const APIKEY = '34480b98aa332da53123a0ac63a4ea9d';\n  let lat = city && city.lat ? city.lat : '';\n  let long = city && city.lng ? city.lng : '';\n  let exclude = 'hourly,minutely';\n  const ULR = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=${exclude}&units=metric&lang=tr&appid=${APIKEY}`;\n  const fetchData = () => {\n    axios(ULR).then(data => {\n      let _daily = data.data.daily;\n      dispatch({\n        type: 'SET_DAILY',\n        payload: _daily\n      });\n\n      //console.log('data',data.data)\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, [city]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stateWrap\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"stateMenu\",\n        defaultValue: city,\n        onChange: handleChange,\n        children: cities && cities.length > 0 && cities.map(city => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: city.city,\n            children: [city.city, \" -  \", city.admin_name]\n          }, `${city.population}${city.lat}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(ChooseStateComponents, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ChooseStateComponents;\nexport default ChooseStateComponents;\nvar _c;\n$RefreshReg$(_c, \"ChooseStateComponents\");","map":{"version":3,"names":["React","useEffect","cities","axios","UseWeatherAppContext","ChooseStateComponents","state","city","dispatch","handleChange","e","selectedCity","filter","target","value","type","payload","APIKEY","lat","long","lng","exclude","ULR","fetchData","then","data","_daily","daily","length","map","admin_name","population"],"sources":["C:/Users/Lenovo/Documents/React Projects/weather_app/src/Components/ChooseState/index.js"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport cities from '../../Data/in.json';\r\n\r\nimport axios from \"axios\";\r\n\r\nimport  {UseWeatherAppContext} from '../../Context/Context';\r\n\r\nconst ChooseStateComponents = ()=>{\r\n    \r\n\r\n    const {state:{city}, dispatch} = UseWeatherAppContext();\r\n\r\n    const handleChange = (e)=>{\r\n        const selectedCity = cities.filter(\r\n            (city) => city.city === e.target.value\r\n        )[0]\r\n        //console.log('selectedCity', selectedCity);\r\n        dispatch({\r\n            type:'SET_CITY',\r\n            payload:{...selectedCity}\r\n        })\r\n    }\r\n\r\n    // API VAR\r\n    const APIKEY = '34480b98aa332da53123a0ac63a4ea9d';\r\n    let lat = city && city.lat ? city.lat : '';\r\n    let long = city && city.lng ? city.lng : '';\r\n    let exclude = 'hourly,minutely';\r\n    const ULR =  `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=${exclude}&units=metric&lang=tr&appid=${APIKEY}`\r\n    \r\n    const fetchData = ()=>{\r\n        axios(ULR).then((data)=>{\r\n            let _daily = data.data.daily\r\n            dispatch({\r\n                type:'SET_DAILY',\r\n                payload:_daily\r\n            })\r\n            \r\n            //console.log('data',data.data)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n       fetchData();\r\n       // eslint-disable-next-line\r\n    }, [city])\r\n\r\n    return (\r\n        <>\r\n            <div className='stateWrap'>\r\n                <select className='stateMenu' defaultValue={city} onChange={handleChange}>\r\n                    {\r\n                        cities && cities.length > 0  && cities.map((city)=>{\r\n                            return(\r\n                                <option key={`${city.population}${city.lat}`} value={city.city}>\r\n                                    {city.city} -  {city.admin_name}\r\n                                </option>\r\n                            )\r\n                        })\r\n                    }\r\n                </select>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChooseStateComponents;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAO,OAAO;AACtC,OAAOC,MAAM,MAAM,oBAAoB;AAEvC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,oBAAoB,QAAO,uBAAuB;AAAC;AAAA;AAE5D,MAAMC,qBAAqB,GAAG,MAAI;EAAA;EAG9B,MAAM;IAACC,KAAK,EAAC;MAACC;IAAI,CAAC;IAAEC;EAAQ,CAAC,GAAGJ,oBAAoB,EAAE;EAEvD,MAAMK,YAAY,GAAIC,CAAC,IAAG;IACtB,MAAMC,YAAY,GAAGT,MAAM,CAACU,MAAM,CAC7BL,IAAI,IAAKA,IAAI,CAACA,IAAI,KAAKG,CAAC,CAACG,MAAM,CAACC,KAAK,CACzC,CAAC,CAAC,CAAC;IACJ;IACAN,QAAQ,CAAC;MACLO,IAAI,EAAC,UAAU;MACfC,OAAO,EAAC;QAAC,GAAGL;MAAY;IAC5B,CAAC,CAAC;EACN,CAAC;;EAED;EACA,MAAMM,MAAM,GAAG,kCAAkC;EACjD,IAAIC,GAAG,GAAGX,IAAI,IAAIA,IAAI,CAACW,GAAG,GAAGX,IAAI,CAACW,GAAG,GAAG,EAAE;EAC1C,IAAIC,IAAI,GAAGZ,IAAI,IAAIA,IAAI,CAACa,GAAG,GAAGb,IAAI,CAACa,GAAG,GAAG,EAAE;EAC3C,IAAIC,OAAO,GAAG,iBAAiB;EAC/B,MAAMC,GAAG,GAAK,uDAAsDJ,GAAI,QAAOC,IAAK,YAAWE,OAAQ,+BAA8BJ,MAAO,EAAC;EAE7I,MAAMM,SAAS,GAAG,MAAI;IAClBpB,KAAK,CAACmB,GAAG,CAAC,CAACE,IAAI,CAAEC,IAAI,IAAG;MACpB,IAAIC,MAAM,GAAGD,IAAI,CAACA,IAAI,CAACE,KAAK;MAC5BnB,QAAQ,CAAC;QACLO,IAAI,EAAC,WAAW;QAChBC,OAAO,EAACU;MACZ,CAAC,CAAC;;MAEF;IACJ,CAAC,CAAC;EACN,CAAC;;EACDzB,SAAS,CAAC,MAAI;IACXsB,SAAS,EAAE;IACX;EACH,CAAC,EAAE,CAAChB,IAAI,CAAC,CAAC;EAEV,oBACI;IAAA,uBACI;MAAK,SAAS,EAAC,WAAW;MAAA,uBACtB;QAAQ,SAAS,EAAC,WAAW;QAAC,YAAY,EAAEA,IAAK;QAAC,QAAQ,EAAEE,YAAa;QAAA,UAEjEP,MAAM,IAAIA,MAAM,CAAC0B,MAAM,GAAG,CAAC,IAAK1B,MAAM,CAAC2B,GAAG,CAAEtB,IAAI,IAAG;UAC/C,oBACI;YAA8C,KAAK,EAAEA,IAAI,CAACA,IAAK;YAAA,WAC1DA,IAAI,CAACA,IAAI,UAAMA,IAAI,CAACuB,UAAU;UAAA,GADrB,GAAEvB,IAAI,CAACwB,UAAW,GAAExB,IAAI,CAACW,GAAI,EAAC;YAAA;YAAA;YAAA;UAAA,QAEnC;QAEjB,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA;IAED;MAAA;MAAA;MAAA;IAAA;EACP,iBACP;AAEX,CAAC;AAAA,GAxDKb,qBAAqB;AAAA,KAArBA,qBAAqB;AA0D3B,eAAeA,qBAAqB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}